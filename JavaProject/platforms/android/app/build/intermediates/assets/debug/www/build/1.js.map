{"version":3,"sources":["../../src/pages/v5venue/v5venue.module.ts","../../src/pages/v5venue/v5venue.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { V5venuePage } from './v5venue';\n\n@NgModule({\n  declarations: [\n    V5venuePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(V5venuePage),\n  ],\n})\nexport class V5venuePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/v5venue/v5venue.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Device } from '@ionic-native/device';\nimport { CommonProvider } from '../../providers/common/common';\n/**\n * Generated class for the V5venuePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-v5venue',\n  templateUrl: 'v5venue.html',\n})\nexport class V5venuePage {\n  block1 = {};\n  eventID = 0;\n  seat_summary = {};\n  isProceedToBook = false;\n  selected_seats = [];\n  event_name = \"\";\n  event_date = \"\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, public http: HttpClient, private device: Device, private alertCtrl: AlertController, private loadingCtrl: LoadingController, private common: CommonProvider) {\n  }\n\n  ionViewDidLoad() {\n    this.eventID = this.navParams.get('eventID');\n    this.getSeats(this.eventID);\n  }\n\n\n  ionViewWillLeave() {\n    this.block1 = null;\n    this.eventID = 0;\n    this.seat_summary = null;\n  }\n\n  ionViewCanLeave(): Promise<boolean> {\n    return new Promise(resolve => {\n      if (this.isProceedToBook) return resolve(true);\n\n      this.alertCtrl.create({\n        title: 'Confirm leaving',\n        message: 'Do you want to exit this page?',\n        enableBackdropDismiss: false,\n        buttons: [{\n          text: 'Leave',\n          handler: () => {\n\n            //delete pending quiz data\n            let loading = this.loadingCtrl.create({\n              spinner: 'crescent',\n              content: 'Please Wait...'\n            });\n\n            loading.present();\n\n            this.http.post(this.common.apiURL + '/RemoveUnbookedSeats', {\n              eventID: this.eventID,\n              uuid: this.device.uuid\n            }).subscribe((response: any) => {\n              if (response.status == \"OK\") {\n                loading.dismiss();\n                resolve(true);\n              }\n              else {\n                loading.dismiss();\n                resolve(false);\n              }\n            });\n          }\n        }, {\n          text: 'Stay',\n          handler: () => {\n            resolve(false);\n          }\n        }]\n      }).present();\n    });\n  }\n\n  getSeats(eventID) {\n    let loading = this.loadingCtrl.create({\n      spinner: 'crescent',\n      content: 'Loading...',\n      enableBackdropDismiss: false\n    });\n\n    loading.present();\n\n    this.http.post(this.common.apiURL + '/v5Venue', { eventID: eventID }).subscribe((data: any) => {\n      this.event_name = data.event_name;\n      this.event_date = data.event_date;\n      this.block1 = data.block1;\n\n      loading.dismiss();\n    });\n  }\n\n  selectSeat(event, seatID) {\n    if (event.currentTarget.checked) {\n      let postData = {\n\n        \"uuid\": this.device.uuid,\n        \"seatID\": seatID,\n        \"eventID\": this.eventID\n      };\n\n      this.http.post(this.common.apiURL + '/SelectSeat', postData).subscribe((data: any) => {\n        this.seat_summary = data;\n        this.selected_seats.push(seatID);\n      });\n    }\n    else {\n      this.http.post(this.common.apiURL + '/RemoveSeat', { eventID: this.eventID, uuid: this.device.uuid, seatID: seatID }).subscribe((data: any) => {\n        this.seat_summary = data;\n        let index = this.removeCheckedFromArray(seatID);\n        this.selected_seats.splice(index, 1);\n      });\n    }\n  }\n\n  //Removes checkbox from array when you uncheck it\n  removeCheckedFromArray(checkbox: String) {\n    return this.selected_seats.findIndex((category) => {\n      return category === checkbox;\n    })\n  }\n\n  proceedToBooking(eventID) {\n    if (this.selected_seats.length > 0) {\n      this.isProceedToBook = true;\n      this.navCtrl.push('BookingSummaryPage', { eventID: eventID });\n    }\n    else {\n      alert(\"Please select seats to proceed.\");\n    }\n  }\n\n  openMenu() {\n    this.navCtrl.push('MenuPage')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/v5venue/v5venue.ts"],"sourceRoot":""}