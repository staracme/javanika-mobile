webpackJsonp([11],{238:function(l,n,u){"use strict";function e(l){return c._19(0,[(l()(),c.Z(0,0,null,null,12,"div",[["class","OBAmt"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(2,0,null,null,4,"div",[["class","OBLeft"]],null,null,null,null,null)),(l()(),c._18(3,null,["Discount (",") "])),(l()(),c.Z(4,0,null,null,2,"a",[["href","JavaScript:;"]],null,[[null,"click"]],function(l,n,u){var e=!0,t=l.component;if("click"===n){e=!1!==t.removeCoupon(t.event.couponID)&&e}return e},null,null)),(l()(),c.Z(5,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),c._18(-1,null,["X"])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(8,0,null,null,1,"div",[["class","OBright"]],null,null,null,null,null)),(l()(),c._18(9,null,["$ ",""])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(11,0,null,null,0,"div",[["class","clr"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "]))],null,function(l,n){var u=n.component;l(n,3,0,u.event.coupon_code);l(n,9,0,u.event.Discount)})}function t(l){return c._19(0,[(l()(),c.Z(0,0,null,null,1,"div",[["class","erroremail"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n          Please enter coupon code\n        "]))],null,null)}function o(l){return c._19(0,[(l()(),c.Z(0,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==l.component.addCoupon()&&e}return e},null,null)),(l()(),c._18(-1,null,["Add Coupon"]))],null,null)}function s(l){return c._19(0,[(l()(),c.Z(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),c._18(-1,null,["Please wait...."]))],null,null)}function i(l){return c._19(0,[(l()(),c.Z(0,0,null,null,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0;if("submit"===n){e=!1!==c._13(l,2).onSubmit(u)&&e}if("reset"===n){e=!1!==c._13(l,2).onReset()&&e}return e},null,null)),c.Y(1,16384,null,0,v.r,[],null,null),c.Y(2,540672,null,0,v.h,[[8,null],[8,null]],{form:[0,"form"]},null),c._15(2048,null,v.b,null,[v.h]),c.Y(4,16384,null,0,v.m,[v.b],null,null),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(6,0,null,null,23,"div",[["class","ODBlock"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(8,0,null,null,1,"div",[["class","ODLabel"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Do you have discount coupon? Please enter your coupon code below...."])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(11,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),c._18(-1,null,["\n        "])),(l()(),c.Z(13,0,null,null,5,"input",[["class","OBDictxt"],["formControlName","coupon_code"],["placeholder","Add Discount Code here"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0,t=l.component;if("input"===n){e=!1!==c._13(l,14)._handleInput(u.target.value)&&e}if("blur"===n){e=!1!==c._13(l,14).onTouched()&&e}if("compositionstart"===n){e=!1!==c._13(l,14)._compositionStart()&&e}if("compositionend"===n){e=!1!==c._13(l,14)._compositionEnd(u.target.value)&&e}if("ngModelChange"===n){e=!1!==(t.coupon_code=u)&&e}return e},null,null)),c.Y(14,16384,null,0,v.c,[c.A,c.j,[2,v.a]],null,null),c._15(1024,null,v.j,function(l){return[l]},[v.c]),c.Y(16,671744,null,0,v.f,[[3,v.b],[8,null],[8,null],[2,v.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c._15(2048,null,v.k,null,[v.f]),c.Y(18,16384,null,0,v.l,[v.k],null,null),(l()(),c._18(-1,null,["\n        "])),(l()(),c.U(16777216,null,null,1,null,t)),c.Y(21,16384,null,0,B.i,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._18(-1,null,["\n      "])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(24,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),c.U(16777216,null,null,1,null,o)),c.Y(26,16384,null,0,B.i,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c.U(16777216,null,null,1,null,s)),c.Y(28,16384,null,0,B.i,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._18(-1,null,["\n    "])),(l()(),c._18(-1,null,["\n  "]))],function(l,n){var u=n.component;l(n,2,0,u.form);l(n,16,0,"coupon_code",u.coupon_code);l(n,21,0,u.form.get("coupon_code").touched&&u.form.get("coupon_code").hasError("required"));l(n,26,0,0==u.coupon_loading);l(n,28,0,1==u.coupon_loading)},function(l,n){l(n,0,0,c._13(n,4).ngClassUntouched,c._13(n,4).ngClassTouched,c._13(n,4).ngClassPristine,c._13(n,4).ngClassDirty,c._13(n,4).ngClassValid,c._13(n,4).ngClassInvalid,c._13(n,4).ngClassPending);l(n,13,0,c._13(n,18).ngClassUntouched,c._13(n,18).ngClassTouched,c._13(n,18).ngClassPristine,c._13(n,18).ngClassDirty,c._13(n,18).ngClassValid,c._13(n,18).ngClassInvalid,c._13(n,18).ngClassPending)})}function a(l){return c._19(0,[(l()(),c.Z(0,0,null,null,19,"ion-header",[],null,null,null,null,null)),c.Y(1,16384,null,0,y.a,[P.a,c.j,c.z,[2,S.a]],null,null),(l()(),c._18(-1,null,["\n  "])),(l()(),c.Z(3,0,null,null,13,"div",[["class","HeaderWrap"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(5,0,null,null,2,"div",[["class","MenuIcon"]],null,null,null,null,null)),(l()(),c.Z(6,0,null,null,1,"a",[["href","JavaScript:;"]],null,[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==l.component.openMenu()&&e}return e},null,null)),(l()(),c.Z(7,0,null,null,0,"img",[["src","assets/MenuIcon.png"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(9,0,null,null,4,"div",[["class","PointsBlock"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(11,0,null,null,1,"span",[["class","PointsHigh"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Javanika"])),(l()(),c._18(-1,null,[" Entertainments\n    "])),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(15,0,null,null,0,"div",[["class","clr"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n  "])),(l()(),c._18(-1,null,["\n  "])),(l()(),c.Z(18,0,null,null,0,"div",[["class","clr"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n"])),(l()(),c._18(-1,null,["\n\n\n"])),(l()(),c.Z(21,0,null,null,63,"ion-content",[["style","margin: 60px 0 0 0;"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,T.b,T.a)),c.Y(22,4374528,null,0,x.a,[P.a,L.a,Y.a,c.j,c.z,A.a,U.a,c.u,[2,S.a],[2,w.a]],null,null),(l()(),c._18(-1,1,["\n  "])),(l()(),c.Z(24,0,null,1,1,"div",[["class","BookingHead"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Order Summary"])),(l()(),c._18(-1,1,["\n\n  "])),(l()(),c.Z(27,0,null,1,53,"div",[["class","ODBlock"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(29,0,null,null,1,"div",[["class","OBEventName"]],null,null,null,null,null)),(l()(),c._18(30,null,["",""])),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(32,0,null,null,1,"div",[["class","OBEVentVenue"]],null,null,null,null,null)),(l()(),c._18(33,null,["",""])),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(35,0,null,null,1,"div",[["class","OBEVentDate"]],null,null,null,null,null)),(l()(),c._18(36,null,[""," | ",""])),(l()(),c._18(-1,null,["\n    "])),(l()(),c.Z(38,0,null,null,3,"div",[["class","OBEVentTickets"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Number of Tickets: "])),(l()(),c.Z(40,0,null,null,1,"span",[["class","OBEventsTic"]],null,null,null,null,null)),(l()(),c._18(41,null,["",""])),(l()(),c._18(-1,null,["\n\n    "])),(l()(),c.Z(43,0,null,null,0,"div",[["class","OBSpace"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n\n    "])),(l()(),c.Z(45,0,null,null,9,"div",[["class","OBAmt"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(47,0,null,null,1,"div",[["class","OBLeft"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Sub-total"])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(50,0,null,null,1,"div",[["class","OBright"]],null,null,null,null,null)),(l()(),c._18(51,null,["$ ",""])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(53,0,null,null,0,"div",[["class","clr"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "])),(l()(),c._18(-1,null,["\n\n    "])),(l()(),c.Z(56,0,null,null,9,"div",[["class","OBAmt"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(58,0,null,null,1,"div",[["class","OBLeft"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Service Charge"])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(61,0,null,null,1,"div",[["class","OBright"]],null,null,null,null,null)),(l()(),c._18(-1,null,["$ 0.00"])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(64,0,null,null,0,"div",[["class","clr"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "])),(l()(),c._18(-1,null,["\n  \n    "])),(l()(),c.U(16777216,null,null,1,null,e)),c.Y(68,16384,null,0,B.i,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._18(-1,null,["\n\n    "])),(l()(),c.Z(70,0,null,null,9,"div",[["class","OBAmt"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(72,0,null,null,1,"div",[["class","OBLeft1"]],null,null,null,null,null)),(l()(),c._18(-1,null,["Final Total"])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(75,0,null,null,1,"div",[["class","OBright1"]],null,null,null,null,null)),(l()(),c._18(76,null,["$ ",""])),(l()(),c._18(-1,null,["\n      "])),(l()(),c.Z(78,0,null,null,0,"div",[["class","clr"]],null,null,null,null,null)),(l()(),c._18(-1,null,["\n    "])),(l()(),c._18(-1,null,["\n\n  "])),(l()(),c._18(-1,1,["\n\n  "])),(l()(),c.U(16777216,null,1,1,null,i)),c.Y(83,16384,null,0,B.i,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._18(-1,1,["\n"])),(l()(),c._18(-1,null,["\n"])),(l()(),c.Z(86,0,null,null,5,"ion-footer",[],null,null,null,null,null)),c.Y(87,16384,null,0,E.a,[P.a,c.j,c.z,[2,S.a]],null,null),(l()(),c._18(-1,null,["\n  "])),(l()(),c.Z(89,0,null,null,1,"div",[["class","EventFootWrapOD"]],null,[[null,"click"]],function(l,n,u){var e=!0,t=l.component;if("click"===n){e=!1!==t.goToAddDetailsPage(t.eventID)&&e}return e},null,null)),(l()(),c._18(-1,null,["Book Tickets"])),(l()(),c._18(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,68,0,null!=u.event.coupon_code&&""!=u.event.coupon_code);l(n,83,0,null==u.event.coupon_code||""==u.event.coupon_code)},function(l,n){var u=n.component;l(n,21,0,c._13(n,22).statusbarPadding,c._13(n,22)._hasRefresher);l(n,30,0,u.event.event_name);l(n,33,0,u.event.event_details);l(n,36,0,u.event.event_date,u.event.event_time);l(n,41,0,u.event.NoOfSeats);l(n,51,0,u.event.SubTotal);l(n,76,0,u.event.TotalPrice)})}Object.defineProperty(n,"__esModule",{value:!0});var c=u(0),r=(u(4),u(113),u(38)),d=u(39),_=u(116),p=u(53),v=u(17),g=function(){function l(l,n,u,e,t,o,s,i){this.navCtrl=l,this.navParams=n,this.http=u,this.device=e,this.payPal=t,this.alertCtrl=o,this.loadingCtrl=s,this.common=i,this.seat_summary={},this.eventID=0,this.uuid="",this.event={},this.isProceedToBook=!1,this.coupon_code="",this.coupon_loading=!1,this.form=new v.g({coupon_code:new v.e("",[v.p.required])})}return l.prototype.ionViewDidLoad=function(){this.eventID=this.navParams.get("eventID"),this.getOrderSummary({eventID:this.eventID,sessionID:this.device.uuid})},l.prototype.ionViewCanLeave=function(){var l=this;return new Promise(function(n){if(l.isProceedToBook)return n(!0);l.alertCtrl.create({title:"Confirm leaving",message:"Do you want to exit this page?",enableBackdropDismiss:!1,buttons:[{text:"Leave",handler:function(){var u=l.loadingCtrl.create({spinner:"crescent",content:"Please Wait...",enableBackdropDismiss:!1});u.present(),l.http.post(l.common.apiURL+"/RemoveUnbookedSeats",{eventID:l.eventID,uuid:l.device.uuid}).subscribe(function(l){"OK"==l.status?(u.dismiss(),n(!0)):(u.dismiss(),n(!1))})}},{text:"Stay",handler:function(){n(!1)}}]}).present()})},l.prototype.getOrderSummary=function(l){var n=this,u=this.loadingCtrl.create({spinner:"crescent",content:"Loading...",enableBackdropDismiss:!1});u.present(),this.http.post(this.common.apiURL+"/OrderSummary",l).subscribe(function(l){n.event=l,u.dismiss()})},l.prototype.goToAddDetailsPage=function(){this.isProceedToBook=!0,this.common.isProceedToBook=!0,this.navCtrl.push("DetailsPage",{eventID:this.eventID})},l.prototype.openMenu=function(){this.navCtrl.push("JavanikaPage")},l.prototype.addCoupon=function(l){var n=this;if(this.coupon_loading=!0,""!=this.coupon_code)this.http.post(this.common.apiURL+"/AddDiscountCoupon",{sessionID:this.device.uuid,eventID:this.eventID,coupon_code:this.coupon_code}).subscribe(function(l){if("OK"==l.status)n.getOrderSummary({sessionID:n.device.uuid,eventID:n.eventID}),n.coupon_loading=!1,n.coupon_code="";else if("USED"==l.status){n.alertCtrl.create({title:"",message:"<center>"+l.errorMessage+"</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){n.coupon_loading=!1}}]}).present()}else if("NOT APPLICABLE"==l.status){n.alertCtrl.create({title:"",message:"<center>"+l.errorMessage+"</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){n.coupon_loading=!1}}]}).present()}else if("INVALID"==l.status){n.alertCtrl.create({title:"",message:"<center>"+l.errorMessage+"</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){n.coupon_loading=!1}}]}).present()}});else{this.alertCtrl.create({title:"",message:"<center>Please enter coupon code</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){n.coupon_loading=!1}}]}).present()}},l.prototype.removeCoupon=function(l){var n=this;this.alertCtrl.create({title:"",message:"<center>Do you want to remove this coupon?</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){n.http.post(n.common.apiURL+"/RemoveDiscountCoupon",{sessionID:n.device.uuid,eventID:n.eventID,couponID:l}).subscribe(function(l){if("OK"==l.status){n.alertCtrl.create({title:"",message:"<center>Coupon has been removed successfully.</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){n.getOrderSummary({sessionID:n.common.uuid,eventID:n.eventID})}}]}).present()}else if("ERROR"==l.status){n.alertCtrl.create({title:"",message:"<center>Sorry, Something went wrong. Please try again after sometime.</center>",enableBackdropDismiss:!1,buttons:[{text:"OK",handler:function(){}}]}).present()}})}}]}).present()},l}(),m=function(){return function(){}}(),f=u(191),h=u(192),D=u(193),b=u(194),C=u(195),Z=u(196),I=u(197),O=u(198),k=u(199),B=u(14),y=u(114),P=u(1),S=u(5),T=u(250),x=u(21),L=u(3),Y=u(9),A=u(8),U=u(34),w=u(20),E=u(117),M=u(10),R=u(75),K=u(74),V=c.X({encapsulation:2,styles:[],data:{}}),j=c.V("page-booking-summary",g,function(l){return c._19(0,[(l()(),c.Z(0,0,null,null,1,"page-booking-summary",[],null,null,null,a,V)),c.Y(1,49152,null,0,g,[w.a,M.a,r.c,d.a,_.a,R.a,K.a,p.a],null,null)],null,null)},{},{},[]),F=u(115),N=u(35);u.d(n,"BookingSummaryPageModuleNgFactory",function(){return J});var J=c.W(m,[],function(l){return c._10([c._11(512,c.i,c.S,[[8,[f.a,h.a,D.a,b.a,C.a,Z.a,I.a,O.a,k.a,j]],[3,c.i],c.s]),c._11(4608,B.k,B.j,[c.r,[2,B.s]]),c._11(4608,v.s,v.s,[]),c._11(4608,v.d,v.d,[]),c._11(512,B.b,B.b,[]),c._11(512,v.q,v.q,[]),c._11(512,v.i,v.i,[]),c._11(512,v.o,v.o,[]),c._11(512,F.a,F.a,[]),c._11(512,F.b,F.b,[]),c._11(512,m,m,[]),c._11(256,N.a,g,[])])})},250:function(l,n,u){"use strict";function e(l){return t._19(2,[t._16(402653184,1,{_fixedContent:0}),t._16(402653184,2,{_scrollContent:0}),(l()(),t.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),t._12(null,0),(l()(),t.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),t._12(null,1),t._12(null,2)],null,null)}u.d(n,"a",function(){return o}),n.b=e;var t=u(0),o=(u(1),u(3),u(9),u(34),u(5),u(20),t.X({encapsulation:2,styles:[],data:{}}))}});