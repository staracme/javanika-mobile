{"version":3,"sources":["../../src/pages/v2venue/v2venue.module.ts","../../src/pages/v2venue/v2venue.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { V2venuePage } from './v2venue';\n\n@NgModule({\n  declarations: [\n    V2venuePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(V2venuePage),\n  ],\n})\nexport class V2venuePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/v2venue/v2venue.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController  } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Device } from '@ionic-native/device';\nimport { CommonProvider } from '../../providers/common/common';\n/**\n * Generated class for the V2venuePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-v2venue',\n  templateUrl: 'v2venue.html',\n})\nexport class V2venuePage {\n  eventID: number = 0;\n  seat_summary: object = null;\n  block1: any = null;\n  block2: any = null;\n  block3: any = null;\n  block4: any = null;\n  block5: any = null;\n  isProceedToBook = false;\n  selected_seats = [];\n  event_name = \"\";\n  event_date = \"\";\n  constructor(public navCtrl: NavController, public navParams: NavParams, public http: HttpClient, private device: Device, private alertCtrl: AlertController, private loadingCtrl: LoadingController, private common: CommonProvider) {\n  }\n\n  ionViewDidLoad() {\n    this.eventID = this.navParams.get('eventID');\n    this.getSeats(this.eventID);\n  }\n\n  ionViewWillLeave() {\n    this.block1 = null;\n    this.block2 = null;\n    this.block3 = null;\n    this.block4 = null;\n    this.block5 = null;\n    this.eventID = 0;\n    this.seat_summary = null;\n  }\n\n  getSeats(eventID) {\n    this.http.post(this.common.apiURL +'/v2Venue', { eventID: eventID }).subscribe((data: any) => {\n      this.block1 = data.block1;\n      this.block2 = data.block2;\n      this.block3 = data.block3;\n      this.block4 = data.block4;\n      this.block5 = data.block5;\n    });\n  }\n\n  selectSeat(event, seatID) {\n    if (event.currentTarget.checked) {\n      let postData = {\n        \"uuid\": this.device.uuid,\n        \"seatID\": seatID,\n        \"eventID\": this.eventID\n      };\n\n      this.http.post(this.common.apiURL + '/SelectSeat', postData).subscribe((data: any) => {\n        this.seat_summary = data;\n        this.selected_seats.push(seatID);\n      });\n    }\n    else {\n      this.http.post(this.common.apiURL + '/RemoveSeat', { eventID: this.eventID, uuid: this.device.uuid, seatID: seatID }).subscribe((data: any) => {\n        this.seat_summary = data;\n        let index = this.removeCheckedFromArray(seatID);\n        this.selected_seats.splice(index, 1);\n      });\n    }\n  }\n\n  //Removes checkbox from array when you uncheck it\n  removeCheckedFromArray(checkbox: String) {\n    return this.selected_seats.findIndex((category) => {\n      return category === checkbox;\n    })\n  }\n\n  proceedToBooking(eventID) {\n    if (this.selected_seats.length > 0) {\n      this.isProceedToBook = true;\n      this.navCtrl.push('BookingSummaryPage', { eventID: eventID });\n    }\n    else {\n      alert(\"Please select seats to proceed.\");\n    }\n  }\n\n  addSeat(seatID, eventID) {\n\n    let postData = {\n      \"uuid\": this.device.uuid,\n      \"seatID\": seatID,\n      \"eventID\": this.eventID\n    }\n\n    this.http.post(this.common.apiURL + '/SelectSeat', postData).subscribe((data: any) => {\n      this.seat_summary = data;\n    });\n  }\n\n  removeSeat(seatID) {\n    this.http.post(this.common.apiURL + '/RemoveSeat', { eventID: this.eventID, uuid: this.device.uuid, seatID: seatID }).subscribe((data: any) => {\n      this.seat_summary = data;\n    });\n  }\n\n  openMenu() {\n    this.navCtrl.push('JavanikaPage')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/v2venue/v2venue.ts"],"sourceRoot":""}